{"version":3,"file":"index.d.cts","names":["Options","FgOptions","CopyOptions","TaskOptions","FsCopyOptions","Pick","CopyActionOptions","CopyGlobOptions","Omit","CopyTask","copyAction","Promise","default","ArchiverOptions","ArchiverJSOptions","TaskOptions","ReaddirGlobOptions","ArchiveTask","archiveAction","Promise","default","Compiler","WebpackPluginInstance","CopyActionOptions","CopyGlobOptions","DeleteOptions","ArchiverOptions","CopyAction","DeleteAction","MoveAction","ArchiveAction","MkdirAction","Actions","FileManagerPluginOptions","FileManagerPlugin","default"],"sources":["../src/actions/copy.d.ts","../src/actions/archive.d.ts","../src/index.d.ts"],"sourcesContent":["import type { Options as FgOptions } from 'fast-glob';\nimport type { CopyOptions } from 'fs-extra';\nimport { TaskOptions } from '../types';\ntype FsCopyOptions = Pick<CopyOptions, 'overwrite' | 'preserveTimestamps'>;\nexport interface CopyActionOptions extends FsCopyOptions {\n    /**\n     * If true, the copy operation will not preserve the directory structure\n     * and will copy all files to the destination directory.\n     */\n    flat?: boolean;\n}\nexport type CopyGlobOptions = Omit<FgOptions, 'absolute' | 'cwd'>;\nexport interface CopyTask {\n    source: string;\n    absoluteSource: string;\n    destination: string;\n    absoluteDestination?: string;\n    context?: string;\n    toType?: 'dir' | 'file';\n    options?: CopyActionOptions;\n    globOptions?: CopyGlobOptions;\n}\ndeclare const copyAction: (tasks: CopyTask[], taskOptions: TaskOptions) => Promise<void>;\nexport default copyAction;\n","import { type ArchiverOptions as ArchiverJSOptions } from 'archiver';\nimport { TaskOptions } from '../types';\n/** {@link https://github.com/Yqnn/node-readdir-glob#options} */\ninterface ReaddirGlobOptions {\n    /** Glob pattern or Array of Glob patterns to match the found files with. A file has to match at least one of the provided patterns to be returned. */\n    pattern?: string | string[];\n    /** Glob pattern or Array of Glob patterns to exclude matches. If a file or a folder matches at least one of the provided patterns, it's not returned. It doesn't prevent files from folder content to be returned. Note: ignore patterns are always in dot:true mode. */\n    ignore?: string | string[];\n    /** Glob pattern or Array of Glob patterns to exclude folders. If a folder matches one of the provided patterns, it's not returned, and it's not explored: this prevents any of its children to be returned. Note: skip patterns are always in dot:true mode. */\n    skip?: string | string[];\n    /** Add a / character to directory matches. */\n    mark?: boolean;\n    /** Set to true to stat all results. This reduces performance. */\n    stat?: boolean;\n    /** When an unusual error is encountered when attempting to read a directory, a warning will be printed to stderr. Set the silent option to true to suppress these warnings. */\n    silent?: boolean;\n    /** Do not match directories, only files. */\n    nodir?: boolean;\n    /** Follow symlinked directories. Note that requires to stat all results, and so reduces performance. */\n    follow?: boolean;\n    /** Allow pattern to match filenames starting with a period, even if the pattern does not explicitly have a period in that spot. */\n    dot?: boolean;\n    /** Disable ** matching against multiple folder names. */\n    noglobstar?: boolean;\n    /** Perform a case-insensitive match. Note: on case-insensitive filesystems, non-magic patterns will match by default, since stat and readdir will not raise errors. */\n    nocase?: boolean;\n    /** Perform a basename-only match if the pattern does not contain any slash characters. That is, *.js would be treated as equivalent to ** /*.js, matching all js files in all directories. */\n    matchBase?: boolean;\n}\nexport type ArchiverOptions = ArchiverJSOptions & {\n    globOptions?: ReaddirGlobOptions;\n};\nexport interface ArchiveTask {\n    source: string;\n    absoluteSource: string;\n    absoluteDestination: string;\n    context?: string;\n    format?: 'zip' | 'tar';\n    options?: ArchiverOptions;\n}\ndeclare const archiveAction: (tasks: ArchiveTask[], taskOptions: TaskOptions) => Promise<void>;\nexport default archiveAction;\n","import type { Compiler, WebpackPluginInstance } from 'webpack';\nimport { CopyActionOptions, CopyGlobOptions } from './actions/copy';\nimport { DeleteOptions } from './actions/delete';\nimport { ArchiverOptions } from './actions/archive';\ntype CopyAction = {\n    source: string;\n    destination: string;\n    options?: CopyActionOptions;\n    globOptions?: CopyGlobOptions;\n};\ntype DeleteAction = {\n    source: string;\n    options: DeleteOptions;\n} | string;\ntype MoveAction = {\n    source: string;\n    destination: string;\n};\ntype ArchiveAction = {\n    source: string;\n    destination: string;\n    format?: 'zip' | 'tar';\n    options?: ArchiverOptions;\n};\ntype MkdirAction = string;\ninterface Actions {\n    copy?: CopyAction[];\n    delete?: DeleteAction[];\n    move?: MoveAction[];\n    mkdir?: MkdirAction[];\n    archive?: ArchiveAction[];\n}\nexport interface FileManagerPluginOptions {\n    events?: {\n        /**\n         * Commands to execute before Webpack begins the bundling process\n         * Note: OnStart might execute twice for file changes in webpack context.\n         */\n        onStart?: Actions | Actions[];\n        /**\n         * Commands to execute after Webpack has finished the bundling process\n         */\n        onEnd?: Actions | Actions[];\n    };\n    /**\n     * Run tasks in an action in series\n     */\n    runTasksInSeries?: boolean;\n    /**\n     * Run tasks only at first compilation in watch mode\n     */\n    runOnceInWatchMode?: boolean;\n    /**\n     * The directory, an absolute path, for resolving files. Defaults to webpack context\n     */\n    context?: string | null;\n    /**\n     * If true, will throw an error if any action fails\n     * @default false\n     */\n    throwOnError?: boolean;\n}\ndeclare class FileManagerPlugin implements WebpackPluginInstance {\n    private options;\n    private context;\n    private logger;\n    constructor(options: FileManagerPluginOptions);\n    private applyAction;\n    private run;\n    private execute;\n    apply(compiler: Compiler): void;\n}\nexport default FileManagerPlugin;\n"],"mappings":";;;;;;;KAGKI,aAAAA,GAAgBC,KAAKH;UACTqB,iBAAAA,SAA0BnB;;;AAFJ;;EACrB,IAAQF,CAAAA,EAAAA,OAAAA;;AAAD,KAQbsB,eAAAA,GAAkBhB,IARL,CAQUP,OARV,EAAA,UAAA,GAAA,KAAA,CAAA;;;;UCAfe,kBAAAA;;;;EDALZ,MAAAA,CAAAA,EAAAA,MAAAA,GAAa,MAAA,EAAA;EAAA;EAAA,IAAQF,CAAAA,EAAAA,MAAAA,GAAAA,MAAAA,EAAAA;EAAW;EAAZ,IAAA,CAAA,EAAA,OAAA;EACRqB;EAOLC,IAAAA,CAAAA,EAAAA,OAAAA;EAAe;EAAA,MAAQvB,CAAAA,EAAAA,OAAAA;EAAS;EAAV,KAAA,CAAA,EAAA,OAAA;;;;ECRxBe,GAAAA,CAAAA,EAAAA,OAAAA;EA0BEU;EAAe,UAAA,CAAA,EAAA,OAAA;EAAA;EAAoB,MAC7BV,CAAAA,EAAAA,OAAAA;EAAkB;;;KADxBU,iBAAAA,GAAkBZ;ECzBzBa,WAAAA,CAAAA,ED0BaX,kBC1BH;CAAA;;;KAAVW,UAAAA;;;EFDAvB,OAAAA,CAAAA,EEISmB,iBFJI;EAAA,WAAA,CAAA,EEKAC,eFLA;CAAA;KEObI,YAAAA,GFPgBvB;EAAI,MAAA,EAAA,MAAA;EACRkB,OAAAA,EEQJE,UFRqB;AAOlC,CAAA,GAAYD,MAAAA;KEGPK,UAAAA,GFHsB;EAAA,MAAQ5B,EAAAA,MAAAA;EAAS,WAAdO,EAAAA,MAAAA;AAAI,CAAA;KEO7BsB,aAAAA;;;EDfKd,MAAAA,CAAAA,EAAAA,KAAAA,GAAAA,KAAkB;EA0BhBU,OAAAA,CAAAA,ECPEA,iBDOa;CAAA;KCLtBK,WAAAA,GDKyBjB,MAAAA;UCJpBkB,OAAAA,CDKQhB;EAAkB,IAAA,CAAA,ECJzBW,UDIyB,EAAA;WCHvBC;SACFC;UACCE;EAzBPJ,OAAAA,CAAAA,EA0BSG,aA1BC,EAAA;;AAGDP,UAyBGU,wBAAAA,CAzBHV;EAAiB,MACbC,CAAAA,EAAAA;IAAe;AAAA;AAIP;AAEX;IAUVO,OAAAA,CAAAA,EAcaC,OAdF,GAcYA,OAdZ,EAAA;IACNA;;;IAEGJ,KAAAA,CAAAA,EAeGI,OAfHJ,GAeaI,OAfbJ,EAAAA;EAAY,CAAA;EACJ;;AAEM;EAEVK,gBAAAA,CAAAA,EAAAA,OAAAA;EAAwB;;;EAMN,kBAInBD,CAAAA,EAAAA,OAAAA;EAAO;AAAU;AAmBhC;EAC8B,OAAA,CAAA,EAAA,MAAA,GAAA,IAAA;EAAA;;;AAAiC;;;cAAlDE,iBAAAA,YAA6BZ;;;;uBAIlBW;;;;kBAILZ"}